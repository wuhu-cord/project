#include <SDL3/SDL.h>
#include <stdio.h>
int main(int argc, char* argv[])
{
	SDL_Init(SDL_INIT_VIDEO);
    SDL_Window* window = SDL_CreateWindow(
        "SDL3 色块示例",
        600,                    
        600,                     
        0                       
    );
    if (window == NULL)
    {
        printf("创建窗口失败: %s\n", SDL_GetError());
        SDL_Quit();
        return 1;
    }
    SDL_Renderer* renderer = SDL_CreateRenderer(window, NULL);
    if (renderer == NULL)
    {
        printf("创建渲染器失败: %s\n", SDL_GetError());
        SDL_DestroyWindow(window);
        SDL_Quit();
        return 1;
    }

    int background[20][10] = { 1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,1,0,0,1,1,0,0,1,1,0,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0};
    bool running = true;
    SDL_Event event;
    while (running)
    {
        while (SDL_PollEvent(&event))
        {
            if (event.type == SDL_EVENT_QUIT)
            {
                running = false;
            }
           
           
        }
           for (int i = 0; i < 20; i++)
            {
            for (int j = 0; j < 10; j++)
            {
                if (background[i][j] == 1)
                {

                    SDL_FRect colorBlock;
                    colorBlock.x = (float)(j * 30);  // 列索引×30像素（x坐标）
                    colorBlock.y = (float)(i * 30+60);  // 行索引×30像素（y坐标）
                    colorBlock.w = 30.0f;            // 宽度30像素
                    colorBlock.h = 30.0f;            // 高度30像素

                    // 设置色块颜色（这里用蓝色，可修改RGBA值调整颜色）
                    // 参数：渲染器, R(红), G(绿), B(蓝), A(透明度，255为不透明)
                    SDL_SetRenderDrawColor(renderer, 0, 128, 255, 255);

                    // 绘制填充矩形（色块）
                    SDL_RenderFillRect(renderer, &colorBlock);

                    // 可选：绘制矩形边框（黑色边框，区分色块）
                    SDL_SetRenderDrawColor(renderer, 0, 0, 0, 255);  // 边框颜色：黑色
                    SDL_RenderRect(renderer, &colorBlock);  // 绘制边框
                }
            }
        }

        // 刷新屏幕，显示绘制内容
        SDL_RenderPresent(renderer);
    }

    // 释放资源
    SDL_DestroyRenderer(renderer);
    SDL_DestroyWindow(window);
    SDL_Quit();  // 关闭SDL

    return 0;
}
